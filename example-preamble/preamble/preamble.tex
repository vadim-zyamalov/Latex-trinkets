% Языковые настройки
\iftutex%
  \usepackage{polyglossia}
  \setdefaultlanguage{russian}
  \setotherlanguage{english}
\fi
\ifpdftex%
  \usepackage{cmap}
  \usepackage[utf8]{inputenc}
  \usepackage[T1,T2A]{fontenc}
  \usepackage[russian,english]{babel}
\fi

\usepackage{paratype}
\usepackage{csquotes}
\usepackage{bookmark}
\usepackage{parskip}

\iftutex%
  \defaultfontfeatures{Ligatures={TeX}}
  \setmainfont{PT Sans}
  \setsansfont{PT Sans}
  \setmonofont{PT Mono}
\fi

% Библиография
\usepackage[backend=biber, style=gost-authoryear, uniquelist=false, movenames=false]{biblatex}

% Математические шрифты и символы
% https://tex.stackexchange.com/q/552864/283103
\let\normalunderbrace=\underbrace
\usepackage{mathtools}
\let\underbrace=\normalunderbrace
\usepackage{amsmath}
\iftutex%
  \usepackage[mathrm=sym]{unicode-math}
  \setmathfont{Fira Math}
  \setmathfont[range={\vdots,\ddots}]{TeX Gyre DejaVu Math}
  \setmathfont[range=\int]{Fira Math}
\fi

% Рисунки
\usepackage{graphics}
\usepackage{setspace}
\usepackage{color, colortbl}

% Рисование графиков
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pgfplotstable}

% Таблицы
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{adjustbox}
\usepackage{makecell}
\usepackage{siunitx}[=v2]
\sisetup{
detect-all,
table-number-alignment = center,
table-figures-integer = 2,
table-figures-decimal = 2
}

% Настройка предпросмотра в beamer внутри Emacs с AUCTeX
\usepackage[displaymath,textmath,sections,graphics]{preview}
\PreviewEnvironment{align*}
\PreviewEnvironment{multline*}
\PreviewEnvironment{tabular}
\PreviewEnvironment{verbatim}
\PreviewEnvironment{lstlisting}
\PreviewEnvironment*{frame}

% Дополнительные настройки
\usepackage{appendixnumberbeamer}
